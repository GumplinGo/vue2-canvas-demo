{"version":3,"file":"js/app.e33e8182.js","mappings":"mEAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACG,IAAI,YAAYD,YAAY,eAAe,CAACF,EAAG,SAAS,CAACG,IAAI,SAASC,MAAM,CACxL,YACA,CAAE,aAAcN,EAAIO,UAAW,aAAcP,EAAIQ,YACjDC,MAAM,CAAC,MAAQT,EAAIU,MAAM,OAASV,EAAIW,QAAQC,GAAG,CAAC,MAAQZ,EAAIa,YAAY,SAAWb,EAAIc,eAAe,UAAYd,EAAIe,WAAW,UAAYf,EAAIgB,WAAW,QAAUhB,EAAIiB,aAAuC,IAA1BjB,EAAIkB,iBAAyBhB,EAAG,MAAM,CAACE,YAAY,SAASe,MAAO,CAAEC,KAAMpB,EAAIqB,cAAcC,EAAI,KAAMC,IAAKvB,EAAIqB,cAAcG,EAAI,OAAS,CAAExB,EAAIyB,YAAYC,OAAQ1B,EAAI2B,GAAI3B,EAAIyB,YAAYC,QAAQ,SAASE,EAAIC,GAAK,OAAO3B,EAAG,MAAM,CAAC2B,IAAIA,EAAIzB,YAAY,eAAe,CAACJ,EAAI8B,GAAG,IAAI9B,EAAI+B,GAAGF,GAAK,MAAM3B,EAAG,WAAW,CAACO,MAAM,CAAC,YAAc,IAAIuB,MAAM,CAACC,MAAOjC,EAAIyB,YAAYC,OAAOG,GAAMK,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIyB,YAAYC,OAAQG,EAAKM,EAAK,EAACE,WAAW,8BAA8B,EAAG,IAAErC,EAAIsC,MAAM,GAAGtC,EAAIsC,OAAOpC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQZ,EAAIuC,kBAAkB,CAACvC,EAAI8B,GAAG,UAAU5B,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQZ,EAAIwC,iBAAiB,CAACxC,EAAI8B,GAAG,UAAU5B,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQZ,EAAIyC,qBAAqB,CAACzC,EAAI8B,GAAG,UAAU5B,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQZ,EAAI0C,oBAAoB,CAAC1C,EAAI8B,GAAG,UAAU5B,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQZ,EAAI2C,mBAAmB,CAAC3C,EAAI8B,GAAG,UAAU5B,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQZ,EAAI4C,kBAAkB,CAAC5C,EAAI8B,GAAG,YAAY5B,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQZ,EAAI6C,cAAc,CAAC7C,EAAI8B,GAAG,WAAW,IACp3C,EACGgB,EAAkB,G,QCJf,SAASC,EAAcC,EAAIC,EAAIC,EAAIC,EAAIC,EAAW9B,EAAGE,GAC1D,GAAkB,IAAd4B,EACF,OAAO,EAET,MAAMzB,EAAKyB,EACX,IAAIC,EAAK,EACLC,EAAKN,EAET,GACGxB,EAAIyB,EAAKtB,GAAMH,EAAI2B,EAAKxB,GACxBH,EAAIyB,EAAKtB,GAAMH,EAAI2B,EAAKxB,GACxBL,EAAI0B,EAAKrB,GAAML,EAAI4B,EAAKvB,GACxBL,EAAI0B,EAAKrB,GAAML,EAAI4B,EAAKvB,EAEzB,OAAO,EAGT,GAAIqB,IAAOE,EAIT,OAAOK,KAAKC,IAAIlC,EAAI0B,IAAOrB,EAAK,EAHhC0B,GAAMJ,EAAKE,IAAOH,EAAKE,GACvBI,GAAMN,EAAKG,EAAKD,EAAKD,IAAOD,EAAKE,GAInC,MAAMO,EAAMJ,EAAK/B,EAAIE,EAAI8B,EACnBvB,EAAM0B,EAAMA,GAAQJ,EAAKA,EAAK,GACpC,OAAOtB,GAAQJ,EAAK,EAAKA,EAAM,CAChC,CAGM,SAAS+B,EAAeV,EAAIC,EAAIU,EAAGrC,EAAGE,GAC3C,OAAQF,EAAI0B,IAAO1B,EAAI0B,IAAOxB,EAAIyB,IAAOzB,EAAIyB,GAAMU,EAAIA,CACxD,CAKM,SAASC,EAAgBC,GAG9B,MAAMC,EAAU,GACVC,EAAS,GACTC,EAAY,GAClB,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAASK,OAAQD,IAAK,CACxC,MAAME,EAAM,GACZA,EAAIC,KAAKP,EAASI,EAAI,GAAIJ,EAASI,IACnCH,EAAQM,KAAKD,EACd,CACD,IAAK,IAAIF,EAAI,EAAGA,EAAIH,EAAQI,OAAQD,IAClC,IAAK,IAAII,EAAI,EAAGA,EAAIP,EAAQI,OAAQG,IAC9BJ,IAAMI,GACRN,EAAOK,KAAK,CAACN,EAAQG,GAAIH,EAAQO,KAIvC,IAAK,IAAIC,EAAQ,EAAGA,EAAQP,EAAOG,OAAQI,IAAS,CAClD,MAAMC,EAASC,EACbT,EAAOO,GAAO,GAAG,GACjBP,EAAOO,GAAO,GAAG,GACjBP,EAAOO,GAAO,GAAG,GACjBP,EAAOO,GAAO,GAAG,IAEnBN,EAAUI,KAAKG,EAChB,CAED,OAA0D,IAAtDP,EAAUS,WAAWC,IAAsB,IAAXA,GAKrC,CAED,SAASF,EAAaG,EAAGC,EAAGC,EAAGC,GAG7B,MAAMC,GAAWJ,EAAErD,EAAIuD,EAAEvD,IAAMsD,EAAEpD,EAAIqD,EAAErD,IAAMmD,EAAEnD,EAAIqD,EAAErD,IAAMoD,EAAEtD,EAAIuD,EAAEvD,GAC7D0D,GAAWL,EAAErD,EAAIwD,EAAExD,IAAMsD,EAAEpD,EAAIsD,EAAEtD,IAAMmD,EAAEnD,EAAIsD,EAAEtD,IAAMoD,EAAEtD,EAAIwD,EAAExD,GAEnE,GAAIyD,EAAUC,GAAW,EACvB,OAAO,EAGT,MAAMC,GAAWJ,EAAEvD,EAAIqD,EAAErD,IAAMwD,EAAEtD,EAAImD,EAAEnD,IAAMqD,EAAErD,EAAImD,EAAEnD,IAAMsD,EAAExD,EAAIqD,EAAErD,GAE7D4D,EAAUD,EAAUF,EAAUC,EACpC,QAAIC,EAAUC,GAAW,EAS1B,CC5Fc,MAAMC,EACnBC,YAAYC,GAAU,SAAEC,EAAW,GAAb,QAAiBC,EAAU,KAC/CtF,KAAKoF,SAAWA,EAChBpF,KAAKuF,QAAUvF,KAAKoF,SAASI,WAAW,MAExCxF,KAAKyF,YAAc,UACnBzF,KAAK0F,gBAAkB,UACvB1F,KAAK2F,UAAY,yBACjB3F,KAAK4F,gBAAkB,wBACvB5F,KAAKmD,UAAY,EAEjBnD,KAAK6F,eAAiB,GACtB7F,KAAK8F,iBAAmB,GAGxB9F,KAAKqF,SAAWA,EAChBrF,KAAKsF,QAAUA,EACftF,KAAK+F,mBACL/F,KAAKgG,kBAGLhG,KAAKiG,gBAAkB,CAAE5E,EAAG,EAAGE,EAAG,GAClCvB,KAAKkG,aAAe,GACpBlG,KAAKmG,aAAe,KAGpBnG,KAAKoG,aAAe,GAGpBpG,KAAKqG,YAAc,GAGnBrG,KAAKiB,kBAAoB,CAC1B,CAGDqF,oBAAoBC,GAClB,GAAIvG,KAAKqF,SAASpB,OAAQ,CACxB,IAAIuC,GAAY,EAChBxG,KAAKqF,SAASoB,SAAQ,CAACC,EAAOrC,KAE1BvB,EACE4D,EAAMC,MAAMtF,EACZqF,EAAMC,MAAMpF,EACZmF,EAAME,IAAIvF,EACVqF,EAAME,IAAIrF,EACVvB,KAAKmD,UAAYnD,KAAK6F,eACtBU,EAAIlF,EACJkF,EAAIhF,KAGNvB,KAAKiB,iBAAmBoD,EACxBrE,KAAK6G,iBAAmB,EACxBL,GAAY,EACb,IAGEA,IACHxG,KAAKiB,kBAAoB,EAE5B,CACF,CAGD6F,mBAAmBP,GACjB,GAAIvG,KAAKsF,QAAQrB,OAAQ,CACvB,IAAI8C,GAAW,EACf/G,KAAKsF,QAAQmB,SAAQ,CAACO,EAAM3C,KAC1B2C,EAAOA,EAAKA,KACZ,MAAMC,EAAcD,EAAK,GACzBhH,KAAKuF,QAAQ2B,YACblH,KAAKuF,QAAQ4B,OAAOF,EAAY5F,EAAG4F,EAAY1F,GAC/CyF,EAAKI,MAAM,GAAGX,SAASO,IACrBhH,KAAKuF,QAAQ8B,OAAOL,EAAK3F,EAAG2F,EAAKzF,EAAjC,IAEFvB,KAAKuF,QAAQ8B,OAAOJ,EAAY5F,EAAG4F,EAAY1F,GAC/CvB,KAAKuF,QAAQ+B,YAETtH,KAAKuF,QAAQgC,cAAchB,EAAIlF,EAAGkF,EAAIhF,IACxCwF,GAAW,EACX/G,KAAK6G,gBAAkBxC,EACvBrE,KAAKiB,kBAAoB,GAEzB+F,EAAKP,SAASe,IAEV/D,EACE+D,EAAOnG,EACPmG,EAAOjG,EACPvB,KAAK8F,iBACLS,EAAIlF,EACJkF,EAAIhF,KAGNwF,GAAW,EACX/G,KAAK6G,gBAAkBxC,EACvBrE,KAAKiB,kBAAoB,EAC1B,GAEJ,IAGE8F,IACH/G,KAAK6G,iBAAmB,EAE3B,CACF,CAEDY,QACEzH,KAAK0H,cACL1H,KAAKqF,SAAW,GAChBrF,KAAKsF,QAAU,GACftF,KAAKqG,YAAc,GACnBrG,KAAKoG,aAAe,GACpBpG,KAAKiB,kBAAoB,EACzBjB,KAAK6G,iBAAmB,CACzB,CAGDc,qBACE,IAA+B,IAA3B3H,KAAKiB,iBAAyB,CAChC,MAAMwD,EAASzE,KAAKqF,SAASrF,KAAKiB,kBAC5B2G,EAAgB,CACpBjB,MAAOlC,EAAOmC,IACdA,IAAKnC,EAAOkC,MACZlF,OAAQgD,EAAOhD,QAEjBzB,KAAKqF,SAASwC,OAAO7H,KAAKiB,iBAAkB,EAAG2G,GAC/C5H,KAAK0H,cACL1H,KAAK+F,kBACN,CACF,CAGD+B,qBACiC,IAA3B9H,KAAKiB,mBACPjB,KAAKqF,SAASwC,OAAO7H,KAAKiB,iBAAkB,GAC5CjB,KAAKiB,kBAAoB,EACzBjB,KAAK0H,cACL1H,KAAK+F,mBACL/F,KAAKgG,kBAER,CAGD+B,oBACgC,IAA1B/H,KAAK6G,kBACP7G,KAAKsF,QAAQuC,OAAO7H,KAAK6G,gBAAiB,GAC1C7G,KAAK6G,iBAAmB,EACxB7G,KAAK0H,cACL1H,KAAK+F,mBACL/F,KAAKgG,kBAER,CAGD0B,cACE1H,KAAKuF,QAAQyC,UAAU,EAAG,EAAGhI,KAAKoF,SAAS3E,MAAOT,KAAKoF,SAAS1E,OACjE,CAGDqF,iBAAiBQ,GACXvG,KAAKqF,SAASpB,QAChBjE,KAAKqF,SAASoB,SAAQ,CAACwB,EAAM5D,KAC3BrE,KAAKkI,kBAAkBD,EAAKtB,MAAOsB,EAAKrB,KACxC,IAAIuB,GAAU,EACV5B,IACF4B,EAAUrF,EACRmF,EAAKtB,MAAMtF,EACX4G,EAAKtB,MAAMpF,EACX0G,EAAKrB,IAAIvF,EACT4G,EAAKrB,IAAIrF,EACTvB,KAAKmD,UAAYnD,KAAK6F,eACtBU,EAAIlF,EACJkF,EAAIhF,IAGR,MAAM6G,EAAWpI,KAAKiB,mBAAqBoD,EAC3CrE,KAAKqI,UAAUJ,EAAKtB,MAAOsB,EAAKrB,IAAKwB,GAAYD,EAAjD,GAGL,CAGDG,aAAaC,EAAMC,GACjBxI,KAAK0H,cACL1H,KAAK+F,mBACL/F,KAAKgG,kBACLhG,KAAKoG,aAAe,CAACmC,EAAMC,GAC3BxI,KAAKkI,kBAAkBK,EAAMC,GAC7BxI,KAAKqI,UAAUE,EAAMC,EACtB,CAGDC,eACE,QAAKzI,KAAKoG,aAAanC,SACvBjE,KAAKqF,SAASlB,KAAK,CACjBwC,MAAO3G,KAAKoG,aAAa,GACzBQ,IAAK5G,KAAKoG,aAAa,GACvB3E,OAAQ,CAAEiH,KAAM,KAAMC,KAAM,QAE9B3I,KAAKoG,aAAe,IACb,EACR,CAGDiC,WAAYhH,EAAGuH,EAAOrH,EAAGsH,IAAWxH,EAAGyH,EAAKvH,EAAGwH,GAAOC,GACpD,MAAMC,EAAU,GACVC,EAAQ,GACd,IAAIC,EAAQC,EAEZ,MAAMC,EAAgD,IAAvC/F,KAAKgG,MAAMT,EAAQE,EAAKH,EAAQE,GAAcxF,KAAKiG,GAC5DC,GAAWH,EAAQH,GAAS5F,KAAKiG,GAAM,IACvCE,GAAWJ,EAAQH,GAAS5F,KAAKiG,GAAM,IACvCG,EAAOT,EAAU3F,KAAKqG,IAAIH,GAC1BI,EAAOX,EAAU3F,KAAKuG,IAAIL,GAC1BM,EAAOb,EAAU3F,KAAKqG,IAAIF,GAC1BM,EAAOd,EAAU3F,KAAKuG,IAAIJ,GAEhCzJ,KAAKuF,QAAQ2B,YAEblH,KAAKuF,QAAQ4B,OAAOyB,EAAOC,GAC3B7I,KAAKuF,QAAQ8B,OAAOyB,EAAKC,GAEzBI,EAASL,EAAMY,EACfN,EAASL,EAAMa,EAEf5J,KAAKuF,QAAQ4B,OAAOgC,EAAQC,GAC5BpJ,KAAKuF,QAAQ8B,OAAOyB,EAAKC,GAEzBI,EAASL,EAAMgB,EACfV,EAASL,EAAMgB,EAEf/J,KAAKuF,QAAQ8B,OAAO8B,EAAQC,GAE5BpJ,KAAKuF,QAAQE,YAAcuD,EAAShJ,KAAK0F,gBAAkB1F,KAAKyF,YAEhEzF,KAAKuF,QAAQpC,UAAYnD,KAAKmD,UAC9BnD,KAAKuF,QAAQyE,QACd,CAGD9B,mBAAoB7G,EAAGuH,EAAOrH,EAAGsH,IAAWxH,EAAGyH,EAAKvH,EAAGwH,IAErD,MAAMkB,EAAM,CACV5I,GAAIuH,EAAQE,GAAO,EACnBvH,GAAIsH,EAAQE,GAAO,GAGfM,EAAgD,IAAvC/F,KAAKgG,MAAMT,EAAQE,EAAKH,EAAQE,GAAcxF,KAAKiG,GAC5DW,GAAkBb,EAAQ,IAAM/F,KAAKiG,GAAM,IAC3CY,EAAM,GACNC,EAAiB,CACrB/I,EAAG4I,EAAI5I,EAAI8I,EAAM7G,KAAKqG,IAAIO,GAC1B3I,EAAG0I,EAAI1I,EAAI4I,EAAM7G,KAAKuG,IAAIK,IAE5BlK,KAAKuF,QAAQ8E,YAAY,CAAC,EAAG,IAC7BrK,KAAKqI,UAAU4B,EAAKG,GACpBpK,KAAKuF,QAAQ8E,YAAY,IACzBrK,KAAKuF,QAAQ+B,WACd,CAGDgD,YAAYC,GACVvK,KAAK0H,cACL1H,KAAK+F,mBACL/F,KAAKgG,kBAELhG,KAAKwK,SAAS,IAAIxK,KAAKqG,YAAakE,GACrC,CAGDC,SAASC,EAAWC,EAAUtC,GAAW,GAEvC,MAAMnB,EAAcwD,EAAU,GAC9BzK,KAAKuF,QAAQ2B,YACblH,KAAKuF,QAAQ4B,OAAOF,EAAY5F,EAAG4F,EAAY1F,GAC/CkJ,EAAUrD,MAAM,GAAGX,SAASO,IAC1BhH,KAAKuF,QAAQ8B,OAAOL,EAAK3F,EAAG2F,EAAKzF,EAAjC,IAEFvB,KAAKuF,QAAQ8B,OAAOJ,EAAY5F,EAAG4F,EAAY1F,GAC/CvB,KAAKuF,QAAQpC,UAAYnD,KAAKmD,UAC9BnD,KAAKuF,QAAQE,YAAczF,KAAKyF,YAChCzF,KAAKuF,QAAQyE,SAEbhK,KAAKuF,QAAQ+B,YAGb,IAAIa,GAAU,EACVuC,IACE1K,KAAKuF,QAAQgC,cAAcmD,EAASrJ,EAAGqJ,EAASnJ,GAClD4G,GAAU,EAEVsC,EAAUhE,SAASe,IAEf/D,EACE+D,EAAOnG,EACPmG,EAAOjG,EACPvB,KAAK8F,iBACL4E,EAASrJ,EACTqJ,EAASnJ,KAGX4G,GAAU,EACX,KAKPnI,KAAKuF,QAAQI,UACXwC,GAAWC,EAAWpI,KAAK4F,gBAAkB5F,KAAK2F,UACpD3F,KAAKuF,QAAQoF,OAEbF,EAAUhE,SAASe,IACjBxH,KAAKuF,QAAQ2B,YACblH,KAAKuF,QAAQqF,IACXpD,EAAOnG,EACPmG,EAAOjG,EACPvB,KAAK8F,iBACL,EACA,EAAIxC,KAAKiG,IAEXvJ,KAAKuF,QAAQ8B,OAAOG,EAAOnG,EAAGmG,EAAOjG,GACrCvB,KAAKuF,QAAQI,UACXwC,GAAWC,EAAWpI,KAAK0F,gBAAkB1F,KAAKyF,YACpDzF,KAAKuF,QAAQoF,MAAb,GAEH,CAGDE,mBAAmBtE,GACjBvG,KAAKiG,gBAAkBM,CACxB,CAGDuE,oBACE9K,KAAKkG,aAAe,EACrB,CAED6E,gBAAgBxE,GACd,IAA8B,IAA1BvG,KAAK6G,gBAAwB,CAC/B,MAAMmE,EAAahL,KAAKsF,QAAQtF,KAAK6G,iBAErCmE,GACEA,EAAWhE,KAAKP,SAASe,IAErB/D,EACE+D,EAAOnG,EACPmG,EAAOjG,EACPvB,KAAK8F,iBACLS,EAAIlF,EACJkF,EAAIhF,KAGNvB,KAAKmG,aAAeqB,EACrB,GAEN,CACF,CAGDyD,YAAY1E,GAEV,IAA8B,IAA1BvG,KAAK6G,gBAAwB,CAC/B,MAAMmE,EAAahL,KAAKsF,QAAQuC,OAAO7H,KAAK6G,gBAAiB,GAE7D,GAAI7G,KAAKmG,aAEPnG,KAAKmG,aAAa9E,EAAIkF,EAAIlF,EAC1BrB,KAAKmG,aAAa5E,EAAIgF,EAAIhF,MACrB,CAEAvB,KAAKkG,aAAajC,SACrBjE,KAAKkG,aAAe8E,EAAW,GAAGhE,KAAKkE,KAAKC,IACnC,IAAKA,OAIhB,MAAMC,EAAU7E,EAAIlF,EAAIrB,KAAKiG,gBAAgB5E,EACvCgK,EAAU9E,EAAIhF,EAAIvB,KAAKiG,gBAAgB1E,EAE7CyJ,EAAW,GAAGhE,KAAKP,SAAQ,CAAC0E,EAAQ9G,KAClC,MAAMiH,EAAetL,KAAKkG,aAAa7B,GACvC8G,EAAO9J,EAAIiK,EAAajK,EAAI+J,EAC5BD,EAAO5J,EAAI+J,EAAa/J,EAAI8J,CAA5B,GAEH,CAEDrL,KAAKsF,QAAQnB,QAAQ6G,GACrBhL,KAAK6G,gBAAkB7G,KAAKsF,QAAQrB,OAAS,EAC7CjE,KAAK0H,cACL1H,KAAK+F,mBACL/F,KAAKgG,gBAAgBO,EACtB,CACF,CAGDgF,cACE,QAAKvL,KAAKqG,YAAYpC,SACtBjE,KAAKsF,QAAQnB,KAAK,CAChB6C,KAAM,IAAIhH,KAAKqG,aACf5E,OAAQ,CAAEiH,KAAM,KAAMC,KAAM,QAE9B3I,KAAKqG,YAAc,IACZ,EACR,CAGDL,gBAAgBO,GACVvG,KAAKsF,QAAQrB,QACfjE,KAAKsF,QAAQmB,SAAQ,CAACwB,EAAM5D,KAC1BrE,KAAKwK,SAASvC,EAAKjB,KAAMT,EAAKvG,KAAK6G,kBAAoBxC,EAAvD,GAGL,CAGDmH,YACE,IAAIC,GAAS,EAWb,OAVAzL,KAAKsF,QAAQmB,SAASwB,IACpByD,QAAQC,IACN,0BACAhI,EAAgBsE,EAAKjB,KAAK,GAAIiB,EAAKjB,OAErC0E,QAAQC,IAAI,cAAe1D,EAAKjB,MAC3BrD,EAAgBsE,EAAKjB,KAAK,GAAIiB,EAAKjB,QACtCyE,GAAS,EACV,IAEIA,CACR,EC1XH,OACAG,OACA,OACAnL,MAAAA,IACAC,OAAAA,IACAwE,QAAAA,KAEA2G,aAAAA,KACAC,aAAAA,IACAC,SAAAA,CAAAxD,KAAAA,KAAAC,GAAAA,MACAwD,gBAAAA,EACAC,eAAAA,EACA7K,cAAAA,CAAAC,EAAAA,EAAAE,EAAAA,GACA2K,SAAAA,EACA3L,WAAAA,EAEA,EACA4L,SAAAA,CACAlL,mBACA,oDACA,EACAO,cACA,qBACA,kCACA,CAAAmF,MAAAA,KAAAC,IAAAA,KAAAnF,OAAAA,MAEA,qDAGA,CAAAkF,MAAAA,KAAAC,IAAAA,KAAAnF,OAAAA,KAEA,EACAnB,YACA,8CACA,GAEA8L,UACA,qBACA,qDACA,mBACA,qBACA,2CAEA,EACAC,QAAAA,CACAC,eAAAA,EAAAA,EAAAA,GACA,kCACA,OACAjL,EAAAA,EAAAA,EAAAA,EACAE,EAAAA,EAAAA,EAAAA,EAEA,EACAX,YAAAA,GACA,mEACA,qBACA2L,aAAAA,KAAAA,cACA,oBACA,mCACA,uBACA,mBACA,mBACA,mCACA,mCACA,mBAEA,mCACA,oCACA,mCACA,iCACA,kCACA,kBAEA,EACA1L,eAAAA,GACA,oEACA,OACA0L,aAAAA,KAAAA,cACA,mEACA,qBACA,mBACA,+DACA,4BACA,yCACA,wBACA,qBACA,iCACA,2BACA,sBAEA,EACAzL,WAAAA,GACA,mEACA,qBACA,mBACA,sCACA,gEAEA,mBACA,4BACA,aACA,6BAEA,2BACA,iCACA,gCAEA,EACAC,WAAAA,GACA,gBACA,kBACA,mEAEA,mCAEA,mCAEA,+BACA,EAEAC,SAAAA,GACA,gBACA,kBACA,iCAEA,8BACA,EACAsB,kBACA,sBACA,EACAC,iBACA,qBACA,EACAC,qBACA,iCACA,EACAC,oBACA,gCACA,EACAC,mBACA,+BACA,EACAE,cACA,oBACA,EACA4J,eAAAA,GACA,gCACA,EACA7J,kBACA,wBACA,IC1Mqa,I,UCQja8J,GAAY,OACd,EACA3M,EACA+C,GACA,EACA,KACA,WACA,MAIF,EAAe4J,EAAiB,Q,mBCbhCC,EAAAA,WAAAA,IAAQC,KACRD,EAAAA,WAAAA,OAAAA,eAA2B,EAE3B,IAAIA,EAAAA,WAAI,CACN5M,OAAS8M,GAAMA,EAAEC,KAChBC,OAAO,O,GCVNC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CAGAJ,EAAoBO,EAAID,E,WCzBxB,IAAIE,EAAW,GACfR,EAAoBS,EAAI,SAASnJ,EAAQoJ,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAAS9J,EAAI,EAAGA,EAAIwJ,EAASvJ,OAAQD,IAAK,CACrC0J,EAAWF,EAASxJ,GAAG,GACvB2J,EAAKH,EAASxJ,GAAG,GACjB4J,EAAWJ,EAASxJ,GAAG,GAE3B,IAJA,IAGI+J,GAAY,EACP3J,EAAI,EAAGA,EAAIsJ,EAASzJ,OAAQG,MACpB,EAAXwJ,GAAsBC,GAAgBD,IAAaI,OAAOC,KAAKjB,EAAoBS,GAAGS,OAAM,SAAStM,GAAO,OAAOoL,EAAoBS,EAAE7L,GAAK8L,EAAStJ,GAAK,IAChKsJ,EAAS7F,OAAOzD,IAAK,IAErB2J,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbP,EAAS3F,OAAO7D,IAAK,GACrB,IAAIN,EAAIiK,SACER,IAANzJ,IAAiBY,EAASZ,EAC/B,CACD,CACA,OAAOY,CArBP,CAJCsJ,EAAWA,GAAY,EACvB,IAAI,IAAI5J,EAAIwJ,EAASvJ,OAAQD,EAAI,GAAKwJ,EAASxJ,EAAI,GAAG,GAAK4J,EAAU5J,IAAKwJ,EAASxJ,GAAKwJ,EAASxJ,EAAI,GACrGwJ,EAASxJ,GAAK,CAAC0J,EAAUC,EAAIC,EAwB/B,C,eC5BAZ,EAAoBmB,EAAI,SAASd,GAChC,IAAIe,EAASf,GAAUA,EAAOgB,WAC7B,WAAa,OAAOhB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAL,EAAoBnI,EAAEuJ,EAAQ,CAAE1J,EAAG0J,IAC5BA,CACR,C,eCNApB,EAAoBnI,EAAI,SAASuI,EAASkB,GACzC,IAAI,IAAI1M,KAAO0M,EACXtB,EAAoBuB,EAAED,EAAY1M,KAASoL,EAAoBuB,EAAEnB,EAASxL,IAC5EoM,OAAOQ,eAAepB,EAASxL,EAAK,CAAE6M,YAAY,EAAMC,IAAKJ,EAAW1M,IAG3E,C,eCPAoL,EAAoB2B,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO5O,MAAQ,IAAI6O,SAAS,cAAb,EAGhB,CAFE,MAAOC,GACR,GAAsB,kBAAXC,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB/B,EAAoBuB,EAAI,SAASS,EAAKC,GAAQ,OAAOjB,OAAOkB,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,C,eCCtGjC,EAAoBtJ,EAAI,SAAS0J,GACX,qBAAXiC,QAA0BA,OAAOC,aAC1CtB,OAAOQ,eAAepB,EAASiC,OAAOC,YAAa,CAAEtN,MAAO,WAE7DgM,OAAOQ,eAAepB,EAAS,aAAc,CAAEpL,OAAO,GACvD,C,eCDA,IAAIuN,EAAkB,CACrB,IAAK,GAaNvC,EAAoBS,EAAErJ,EAAI,SAASoL,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4B9D,GAC/D,IAKIqB,EAAUuC,EALV9B,EAAW9B,EAAK,GAChB+D,EAAc/D,EAAK,GACnBgE,EAAUhE,EAAK,GAGI5H,EAAI,EAC3B,GAAG0J,EAASmC,MAAK,SAASC,GAAM,OAA+B,IAAxBP,EAAgBO,EAAW,IAAI,CACrE,IAAI7C,KAAY0C,EACZ3C,EAAoBuB,EAAEoB,EAAa1C,KACrCD,EAAoBO,EAAEN,GAAY0C,EAAY1C,IAGhD,GAAG2C,EAAS,IAAItL,EAASsL,EAAQ5C,EAClC,CAEA,IADG0C,GAA4BA,EAA2B9D,GACrD5H,EAAI0J,EAASzJ,OAAQD,IACzBwL,EAAU9B,EAAS1J,GAChBgJ,EAAoBuB,EAAEgB,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOxC,EAAoBS,EAAEnJ,EAC9B,EAEIyL,EAAqBC,KAAK,gCAAkCA,KAAK,iCAAmC,GACxGD,EAAmBtJ,QAAQgJ,EAAqBQ,KAAK,KAAM,IAC3DF,EAAmB5L,KAAOsL,EAAqBQ,KAAK,KAAMF,EAAmB5L,KAAK8L,KAAKF,G,IC/CvF,IAAIG,EAAsBlD,EAAoBS,OAAEN,EAAW,CAAC,MAAM,WAAa,OAAOH,EAAoB,KAAO,IACjHkD,EAAsBlD,EAAoBS,EAAEyC,E","sources":["webpack://vue2-canvas-demo/./src/App.vue","webpack://vue2-canvas-demo/./src/utils/draw-utils.js","webpack://vue2-canvas-demo/./src/utils/gjl-draw.js","webpack://vue2-canvas-demo/src/App.vue","webpack://vue2-canvas-demo/./src/App.vue?2f94","webpack://vue2-canvas-demo/./src/App.vue?5387","webpack://vue2-canvas-demo/./src/main.js","webpack://vue2-canvas-demo/webpack/bootstrap","webpack://vue2-canvas-demo/webpack/runtime/chunk loaded","webpack://vue2-canvas-demo/webpack/runtime/compat get default export","webpack://vue2-canvas-demo/webpack/runtime/define property getters","webpack://vue2-canvas-demo/webpack/runtime/global","webpack://vue2-canvas-demo/webpack/runtime/hasOwnProperty shorthand","webpack://vue2-canvas-demo/webpack/runtime/make namespace object","webpack://vue2-canvas-demo/webpack/runtime/jsonp chunk loading","webpack://vue2-canvas-demo/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dt-container\"},[_c('div',{ref:\"canvasRef\",staticClass:\"canvas-wrap\"},[_c('canvas',{ref:\"canvas\",class:[\n        'canvas-el',\n        { 'is-drawing': _vm.isDrawing, 'is-draging': _vm.isDraging },\n      ],attrs:{\"width\":_vm.width,\"height\":_vm.height},on:{\"click\":_vm.handleClick,\"dblclick\":_vm.handleDblclick,\"mousemove\":_vm.handleMove,\"mousedown\":_vm.handleDown,\"mouseup\":_vm.handleUp}}),(_vm.activeArrowIndex !== -1)?_c('div',{staticClass:\"dialog\",style:({ left: _vm.mousePosition.x + 'px', top: _vm.mousePosition.y + 'px' })},[(_vm.activeArrow.config)?_vm._l((_vm.activeArrow.config),function(val,key){return _c('div',{key:key,staticClass:\"dialog-item\"},[_vm._v(\" \"+_vm._s(key)+\": \"),_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.activeArrow.config[key]),callback:function ($$v) {_vm.$set(_vm.activeArrow.config, key, $$v)},expression:\"activeArrow.config[key]\"}})],1)}):_vm._e()],2):_vm._e()]),_c('div',{staticClass:\"btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDrawArrow}},[_vm._v(\"绘制箭头\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDrawArea}},[_vm._v(\"绘制区域\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleReverseArrow}},[_vm._v(\"翻转箭头\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDeleteArrow}},[_vm._v(\"删除箭头\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDeleteArea}},[_vm._v(\"删除区域\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCheckArea}},[_vm._v(\"区域是否交叉\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleClear}},[_vm._v(\"清空配置\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 已知一条线段和一个点，求点到线段的垂直距离，初中学的知识\nexport function containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n  const _l = lineWidth;\n  let _a = 0;\n  let _b = x0;\n  // Quick reject\n  if (\n    (y > y0 + _l && y > y1 + _l) ||\n    (y < y0 - _l && y < y1 - _l) ||\n    (x > x0 + _l && x > x1 + _l) ||\n    (x < x0 - _l && x < x1 - _l)\n  ) {\n    return false;\n  }\n\n  if (x0 !== x1) {\n    _a = (y0 - y1) / (x0 - x1);\n    _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n  } else {\n    return Math.abs(x - x0) <= _l / 2;\n  }\n  const tmp = _a * x - y + _b;\n  const _s = (tmp * tmp) / (_a * _a + 1);\n  return _s <= ((_l / 2) * _l) / 2;\n}\n\n// 在某个圆形内\nexport function isInsideCircle(x0, y0, r, x, y) {\n  return (x - x0) * (x - x0) + (y - y0) * (y - y0) < r * r;\n}\n\n// ==============================\n\n// true 无相交；false 有相交\nexport function checkLineToLine(pointArr) {\n  // 线交叉 判断 ,\n  // const arr = [];\n  const edgeArr = [];\n  const mixArr = [];\n  const resultArr = [];\n  for (let i = 1; i < pointArr.length; i++) {\n    const arr = [];\n    arr.push(pointArr[i - 1], pointArr[i]);\n    edgeArr.push(arr);\n  }\n  for (let i = 0; i < edgeArr.length; i++) {\n    for (let j = 0; j < edgeArr.length; j++) {\n      if (i !== j) {\n        mixArr.push([edgeArr[i], edgeArr[j]]);\n      }\n    }\n  }\n  for (let index = 0; index < mixArr.length; index++) {\n    const result = segmentsIntr(\n      mixArr[index][0][0],\n      mixArr[index][0][1],\n      mixArr[index][1][0],\n      mixArr[index][1][1]\n    );\n    resultArr.push(result);\n  }\n\n  if (resultArr.findIndex((target) => target === true) === -1) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction segmentsIntr(a, b, c, d) {\n  // 线是否重合\n\n  const areaAbc = (a.x - c.x) * (b.y - c.y) - (a.y - c.y) * (b.x - c.x);\n  const areaAbd = (a.x - d.x) * (b.y - d.y) - (a.y - d.y) * (b.x - d.x);\n  // 面积符号相同则两点在线段同侧,不相交 (对点在线段上的情况,当作不相交处理);\n  if (areaAbc * areaAbd >= 0) {\n    return false;\n  }\n  // 三角形cda 面积的2倍\n  const areaCda = (c.x - a.x) * (d.y - a.y) - (c.y - a.y) * (d.x - a.x);\n  // 三角形cdb 面积的2倍\n  const areaCdb = areaCda + areaAbc - areaAbd;\n  if (areaCda * areaCdb >= 0) {\n    return false;\n  }\n  // 计算交点坐标\n  // const t = areaCda / (areaAbd - areaAbc);\n  // const dx = t * (b.x - a.x);\n  // const dy = t * (b.y - a.y);\n  // { x: a.x + dx, y: a.y + dy }\n  return true;\n}\n","import { checkLineToLine, containStroke, isInsideCircle } from \"./draw-utils\";\n\nexport default class GJLDraw {\n  constructor(canvasEl, { arrowArr = [], areaArr = [] }) {\n    this.canvasEl = canvasEl;\n    this.context = this.canvasEl.getContext(\"2d\");\n    // 样式\n    this.strokeStyle = \"#FF5A59\";\n    this.lineActiveStyle = \"#0037ff\";\n    this.fillStyle = \"rgba(255, 90, 89, 0.3)\";\n    this.areaActiveStyle = \"rgba(0, 55, 255, 0.5)\";\n    this.lineWidth = 2;\n    // 箭头 hover 或 点击 时的区域控制\n    this.lineWidthRound = 10;\n    this.areaVertexRadius = 10;\n\n    // 初始化的箭头\n    this.arrowArr = arrowArr;\n    this.areaArr = areaArr;\n    this.drawExistedArrow();\n    this.drawExistedArea();\n\n    // 拖拽的原点\n    this.dragOriginPoint = { x: 0, y: 0 };\n    this.tempCopyArea = [];\n    this.targetVertex = null;\n\n    // 当前在画的箭头\n    this.currentArrow = [];\n\n    // 当前在画的区域\n    this.currentArea = [];\n\n    // active 箭头的index;\n    this.activeArrowIndex = -1;\n  }\n\n  // 设置当前高亮的箭头的 index\n  setActiveArrowIndex(loc) {\n    if (this.arrowArr.length) {\n      let isOnArrow = false;\n      this.arrowArr.forEach((arrow, index) => {\n        if (\n          containStroke(\n            arrow.start.x,\n            arrow.start.y,\n            arrow.end.x,\n            arrow.end.y,\n            this.lineWidth + this.lineWidthRound,\n            loc.x,\n            loc.y\n          )\n        ) {\n          this.activeArrowIndex = index;\n          this.activeAreaIndex = -1;\n          isOnArrow = true;\n        }\n        // console.log('this.activeArrowIndex: ', this.activeArrowIndex);\n      });\n      if (!isOnArrow) {\n        this.activeArrowIndex = -1;\n      }\n    }\n  }\n\n  // 设置当前高亮的区域的 index\n  setActiveAreaIndex(loc) {\n    if (this.areaArr.length) {\n      let isOnArea = false;\n      this.areaArr.forEach((area, index) => {\n        area = area.area;\n        const firstVertex = area[0];\n        this.context.beginPath();\n        this.context.moveTo(firstVertex.x, firstVertex.y);\n        area.slice(1).forEach((area) => {\n          this.context.lineTo(area.x, area.y);\n        });\n        this.context.lineTo(firstVertex.x, firstVertex.y);\n        this.context.closePath();\n\n        if (this.context.isPointInPath(loc.x, loc.y)) {\n          isOnArea = true;\n          this.activeAreaIndex = index;\n          this.activeArrowIndex = -1;\n        } else {\n          area.forEach((center) => {\n            if (\n              isInsideCircle(\n                center.x,\n                center.y,\n                this.areaVertexRadius,\n                loc.x,\n                loc.y\n              )\n            ) {\n              isOnArea = true;\n              this.activeAreaIndex = index;\n              this.activeArrowIndex = -1;\n            }\n          });\n        }\n        // console.log('this.activeAreaIndex: ', this.activeAreaIndex);\n      });\n      if (!isOnArea) {\n        this.activeAreaIndex = -1;\n      }\n    }\n  }\n\n  reset() {\n    this.clearCanvas();\n    this.arrowArr = [];\n    this.areaArr = [];\n    this.currentArea = [];\n    this.currentArrow = [];\n    this.activeArrowIndex = -1;\n    this.activeAreaIndex = -1;\n  }\n\n  // 翻转划线箭头\n  reverseActiveArrow() {\n    if (this.activeArrowIndex !== -1) {\n      const target = this.arrowArr[this.activeArrowIndex];\n      const reverseTarget = {\n        start: target.end,\n        end: target.start,\n        config: target.config,\n      };\n      this.arrowArr.splice(this.activeArrowIndex, 1, reverseTarget);\n      this.clearCanvas();\n      this.drawExistedArrow();\n    }\n  }\n\n  // 删除选中的箭头\n  deleteActiveArrow() {\n    if (this.activeArrowIndex !== -1) {\n      this.arrowArr.splice(this.activeArrowIndex, 1);\n      this.activeArrowIndex = -1;\n      this.clearCanvas();\n      this.drawExistedArrow();\n      this.drawExistedArea();\n    }\n  }\n\n  // 删除选中的区域\n  deleteActiveArea() {\n    if (this.activeAreaIndex !== -1) {\n      this.areaArr.splice(this.activeAreaIndex, 1);\n      this.activeAreaIndex = -1;\n      this.clearCanvas();\n      this.drawExistedArrow();\n      this.drawExistedArea();\n    }\n  }\n\n  // 清空画布\n  clearCanvas() {\n    this.context.clearRect(0, 0, this.canvasEl.width, this.canvasEl.height);\n  }\n\n  // 绘制已经存在的箭头\n  drawExistedArrow(loc) {\n    if (this.arrowArr.length) {\n      this.arrowArr.forEach((item, index) => {\n        this.drawVerticalArrow(item.start, item.end);\n        let isHover = false;\n        if (loc) {\n          isHover = containStroke(\n            item.start.x,\n            item.start.y,\n            item.end.x,\n            item.end.y,\n            this.lineWidth + this.lineWidthRound,\n            loc.x,\n            loc.y\n          );\n        }\n        const isActive = this.activeArrowIndex === index;\n        this.drawArrow(item.start, item.end, isActive || isHover);\n      });\n    }\n  }\n\n  // 绘制当前的箭头\n  drawingArrow(from, to) {\n    this.clearCanvas();\n    this.drawExistedArrow();\n    this.drawExistedArea();\n    this.currentArrow = [from, to];\n    this.drawVerticalArrow(from, to);\n    this.drawArrow(from, to);\n  }\n\n  // 保存箭头\n  saveCurArrow() {\n    if (!this.currentArrow.length) return false;\n    this.arrowArr.push({\n      start: this.currentArrow[0],\n      end: this.currentArrow[1],\n      config: { name: \"名称\", type: \"类型\" },\n    });\n    this.currentArrow = [];\n    return true;\n  }\n\n  // 画线头\n  drawArrow({ x: fromX, y: fromY }, { x: toX, y: toY }, active) {\n    const headlen = 10; // 自定义箭头线的长度\n    const theta = 45; // 自定义箭头线与直线的夹角，个人觉得45°刚刚好\n    let arrowX, arrowY; // 箭头线终点坐标\n    // 计算各角度和对应的箭头终点坐标\n    const angle = (Math.atan2(fromY - toY, fromX - toX) * 180) / Math.PI;\n    const angle1 = ((angle + theta) * Math.PI) / 180;\n    const angle2 = ((angle - theta) * Math.PI) / 180;\n    const topX = headlen * Math.cos(angle1);\n    const topY = headlen * Math.sin(angle1);\n    const botX = headlen * Math.cos(angle2);\n    const botY = headlen * Math.sin(angle2);\n\n    this.context.beginPath();\n    // 画直线\n    this.context.moveTo(fromX, fromY);\n    this.context.lineTo(toX, toY);\n\n    arrowX = toX + topX;\n    arrowY = toY + topY;\n    // 画上边箭头线\n    this.context.moveTo(arrowX, arrowY);\n    this.context.lineTo(toX, toY);\n\n    arrowX = toX + botX;\n    arrowY = toY + botY;\n    // 画下边箭头线\n    this.context.lineTo(arrowX, arrowY);\n\n    this.context.strokeStyle = active ? this.lineActiveStyle : this.strokeStyle;\n    // console.log('this.context: ', this.context);\n    this.context.lineWidth = this.lineWidth;\n    this.context.stroke();\n  }\n\n  // 画垂直箭头\n  drawVerticalArrow({ x: fromX, y: fromY }, { x: toX, y: toY }) {\n    // 中点坐标\n    const mid = {\n      x: (fromX + toX) / 2,\n      y: (fromY + toY) / 2,\n    };\n    // 垂直线上的点坐标\n    const angle = (Math.atan2(fromY - toY, fromX - toX) * 180) / Math.PI; // 当前直线的角度\n    const verticalAngle = ((angle + 90) * Math.PI) / 180; // 垂直线的角度\n    const len = 25;\n    const verticalTarget = {\n      x: mid.x + len * Math.cos(verticalAngle),\n      y: mid.y + len * Math.sin(verticalAngle),\n    };\n    this.context.setLineDash([2, 1]);\n    this.drawArrow(mid, verticalTarget);\n    this.context.setLineDash([]);\n    this.context.closePath();\n  }\n\n  // 画区域ing\n  drawingArea(lastPoint) {\n    this.clearCanvas();\n    this.drawExistedArrow();\n    this.drawExistedArea();\n    // this.currentArea.push()\n    this.drawArea([...this.currentArea, lastPoint]);\n  }\n\n  // 画区域\n  drawArea(vertexArr, mouseLoc, isActive = false) {\n    // 画边和区域\n    const firstVertex = vertexArr[0];\n    this.context.beginPath();\n    this.context.moveTo(firstVertex.x, firstVertex.y);\n    vertexArr.slice(1).forEach((area) => {\n      this.context.lineTo(area.x, area.y);\n    });\n    this.context.lineTo(firstVertex.x, firstVertex.y);\n    this.context.lineWidth = this.lineWidth;\n    this.context.strokeStyle = this.strokeStyle;\n    this.context.stroke();\n\n    this.context.closePath();\n\n    // 判断鼠标是否在当前区域\n    let isHover = false;\n    if (mouseLoc) {\n      if (this.context.isPointInPath(mouseLoc.x, mouseLoc.y)) {\n        isHover = true;\n      } else {\n        vertexArr.forEach((center) => {\n          if (\n            isInsideCircle(\n              center.x,\n              center.y,\n              this.areaVertexRadius,\n              mouseLoc.x,\n              mouseLoc.y\n            )\n          ) {\n            isHover = true;\n          }\n        });\n      }\n    }\n\n    this.context.fillStyle =\n      isHover || isActive ? this.areaActiveStyle : this.fillStyle;\n    this.context.fill();\n    // 画顶点\n    vertexArr.forEach((center) => {\n      this.context.beginPath();\n      this.context.arc(\n        center.x,\n        center.y,\n        this.areaVertexRadius,\n        0,\n        2 * Math.PI\n      );\n      this.context.lineTo(center.x, center.y);\n      this.context.fillStyle =\n        isHover || isActive ? this.lineActiveStyle : this.strokeStyle;\n      this.context.fill();\n    });\n  }\n\n  // 设置拖拽的原点\n  setDragOriginPoint(loc) {\n    this.dragOriginPoint = loc;\n  }\n\n  // 清楚暂存的区域\n  clearTempCopyArea() {\n    this.tempCopyArea = [];\n  }\n\n  setTargetVertex(loc) {\n    if (this.activeAreaIndex !== -1) {\n      const targetArea = this.areaArr[this.activeAreaIndex];\n\n      targetArea &&\n        targetArea.area.forEach((center) => {\n          if (\n            isInsideCircle(\n              center.x,\n              center.y,\n              this.areaVertexRadius,\n              loc.x,\n              loc.y\n            )\n          ) {\n            this.targetVertex = center;\n          }\n        });\n    }\n  }\n\n  // 拖动区域\n  dragingArea(loc) {\n    // 拖动鼠标移动区域\n    if (this.activeAreaIndex !== -1) {\n      const targetArea = this.areaArr.splice(this.activeAreaIndex, 1);\n\n      if (this.targetVertex) {\n        // 移动顶点\n        this.targetVertex.x = loc.x;\n        this.targetVertex.y = loc.y;\n      } else {\n        // 移动整个区域\n        if (!this.tempCopyArea.length) {\n          this.tempCopyArea = targetArea[0].area.map((vertex) => {\n            return { ...vertex };\n          });\n        }\n        // 计算偏移\n        const offsetX = loc.x - this.dragOriginPoint.x;\n        const offsetY = loc.y - this.dragOriginPoint.y;\n\n        targetArea[0].area.forEach((vertex, index) => {\n          const originVertex = this.tempCopyArea[index];\n          vertex.x = originVertex.x + offsetX;\n          vertex.y = originVertex.y + offsetY;\n        });\n      }\n\n      this.areaArr.push(...targetArea);\n      this.activeAreaIndex = this.areaArr.length - 1;\n      this.clearCanvas();\n      this.drawExistedArrow();\n      this.drawExistedArea(loc);\n    }\n  }\n\n  // 保存当前区域\n  saveCurArea() {\n    if (!this.currentArea.length) return false;\n    this.areaArr.push({\n      area: [...this.currentArea],\n      config: { name: \"名称\", type: \"类型\" },\n    });\n    this.currentArea = [];\n    return true;\n  }\n\n  // 画已经存在的区域\n  drawExistedArea(loc) {\n    if (this.areaArr.length) {\n      this.areaArr.forEach((item, index) => {\n        this.drawArea(item.area, loc, this.activeAreaIndex === index);\n      });\n    }\n  }\n\n  // 检测区域是否交叉闭合\n  checkArea() {\n    let isPass = true;\n    this.areaArr.forEach((item) => {\n      console.log(\n        \"intersects(item.area): \",\n        checkLineToLine(item.area[0], item.area)\n      );\n      console.log(\"item.area: \", item.area);\n      if (!checkLineToLine(item.area[0], item.area)) {\n        isPass = false;\n      }\n    });\n    return isPass;\n  }\n}\n","<template>\n  <div class=\"dt-container\">\n    <div class=\"canvas-wrap\" ref=\"canvasRef\">\n      <canvas\n        :class=\"[\n          'canvas-el',\n          { 'is-drawing': isDrawing, 'is-draging': isDraging },\n        ]\"\n        ref=\"canvas\"\n        :width=\"width\"\n        :height=\"height\"\n        @click=\"handleClick\"\n        @dblclick=\"handleDblclick\"\n        @mousemove=\"handleMove\"\n        @mousedown=\"handleDown\"\n        @mouseup=\"handleUp\"\n      ></canvas>\n      <div\n        v-if=\"activeArrowIndex !== -1\"\n        class=\"dialog\"\n        :style=\"{ left: mousePosition.x + 'px', top: mousePosition.y + 'px' }\"\n      >\n        <template v-if=\"activeArrow.config\">\n          <div\n            class=\"dialog-item\"\n            v-for=\"(val, key) in activeArrow.config\"\n            :key=\"key\"\n          >\n            {{ key }}:\n            <el-input\n              v-model=\"activeArrow.config[key]\"\n              placeholder=\"\"\n            ></el-input>\n          </div>\n        </template>\n      </div>\n    </div>\n    <div class=\"btn\">\n      <el-button type=\"primary\" @click=\"handleDrawArrow\">绘制箭头</el-button>\n      <el-button type=\"primary\" @click=\"handleDrawArea\">绘制区域</el-button>\n      <el-button type=\"primary\" @click=\"handleReverseArrow\">翻转箭头</el-button>\n      <el-button type=\"primary\" @click=\"handleDeleteArrow\">删除箭头</el-button>\n      <el-button type=\"primary\" @click=\"handleDeleteArea\">删除区域</el-button>\n      <el-button type=\"primary\" @click=\"handleCheckArea\"\n        >区域是否交叉</el-button\n      >\n      <el-button type=\"primary\" @click=\"handleClear\">清空配置</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport GJLDraw from \"@/utils/gjl-draw\";\nexport default {\n  data() {\n    return {\n      width: 300,\n      height: 150,\n      GJLDraw: null,\n      // 控制点击双击事件\n      clickTimeout: null,\n      timeoutDelay: 200,\n      arrowLoc: { from: null, to: null },\n      isDrawingArrow: false,\n      isDrawingArea: false,\n      mousePosition: { x: 0, y: 0 },\n      canDrag: false,\n      isDraging: false,\n    };\n  },\n  computed: {\n    activeArrowIndex() {\n      return this.GJLDraw ? this.GJLDraw.activeArrowIndex : -1;\n    },\n    activeArrow() {\n      if (this.GJLDraw) {\n        if (this.GJLDraw.activeArrowIndex === -1) {\n          return { start: null, end: null, config: null };\n        } else {\n          return this.GJLDraw.arrowArr[this.GJLDraw.activeArrowIndex];\n        }\n      } else {\n        return { start: null, end: null, config: null };\n      }\n    },\n    isDrawing() {\n      return this.isDrawingArrow || this.isDrawingArea;\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const box = this.$refs.canvasRef.getBoundingClientRect();\n      this.width = box.width;\n      this.height = box.height;\n      this.GJLDraw = new GJLDraw(this.$refs.canvas, {});\n    });\n  },\n  methods: {\n    windowToCanvas(canvas, x, y) {\n      const bbox = canvas.getBoundingClientRect();\n      return {\n        x: x - bbox.x,\n        y: y - bbox.y,\n      };\n    },\n    handleClick(e) {\n      const loc = this.windowToCanvas(this.$refs.canvas, e.clientX, e.clientY);\n      this.mousePosition = loc;\n      clearTimeout(this.clickTimeout);\n      if (this.isDrawingArrow) {\n        this.clickTimeout = setTimeout(() => {\n          this.arrowLoc.from = loc;\n        }, this.timeoutDelay);\n      } else if (this.isDrawingArea) {\n        this.clickTimeout = setTimeout(() => {\n          this.GJLDraw.currentArea.push(loc);\n        }, this.timeoutDelay);\n      } else {\n        this.clickTimeout = setTimeout(() => {\n          this.GJLDraw.setActiveArrowIndex(loc);\n          this.GJLDraw.setActiveAreaIndex(loc);\n          this.GJLDraw.drawExistedArrow(loc);\n          this.GJLDraw.drawExistedArea(loc);\n        }, this.timeoutDelay);\n      }\n    },\n    handleDblclick(e) {\n      if ((!this.isDrawingArrow || !this.arrowLoc.from) && !this.isDrawingArea)\n        return;\n      clearTimeout(this.clickTimeout);\n      const loc = this.windowToCanvas(this.$refs.canvas, e.clientX, e.clientY);\n      if (this.isDrawingArrow) {\n        this.arrowLoc.to = loc;\n        this.GJLDraw.drawingArrow(this.arrowLoc.from, this.arrowLoc.to);\n        this.GJLDraw.saveCurArrow();\n        this.arrowLoc.from = this.arrowLoc.to = null;\n        this.isDrawingArrow = false;\n      } else if (this.isDrawingArea) {\n        this.GJLDraw.currentArea.push(loc);\n        this.GJLDraw.saveCurArea();\n        this.isDrawingArea = false;\n      }\n    },\n    handleMove(e) {\n      const loc = this.windowToCanvas(this.$refs.canvas, e.clientX, e.clientY);\n      if (this.isDrawingArrow) {\n        this.arrowLoc.to = loc;\n        if (this.arrowLoc.from && this.arrowLoc.to) {\n          this.GJLDraw.drawingArrow(this.arrowLoc.from, this.arrowLoc.to);\n        }\n      } else if (this.isDrawingArea) {\n        this.GJLDraw.drawingArea(loc);\n      } else if (this.canDrag) {\n        this.GJLDraw.dragingArea(loc);\n      } else {\n        this.GJLDraw.clearCanvas();\n        this.GJLDraw.drawExistedArrow(loc);\n        this.GJLDraw.drawExistedArea(loc);\n      }\n    },\n    handleDown(e) {\n      this.canDrag = true;\n      this.isDraging = true;\n      const loc = this.windowToCanvas(this.$refs.canvas, e.clientX, e.clientY);\n      // 保存一下原点\n      this.GJLDraw.setDragOriginPoint(loc);\n      // 设置选中\n      this.GJLDraw.setActiveAreaIndex(loc);\n      // 如果点击在顶点上，保存一下顶点的引用\n      this.GJLDraw.setTargetVertex(loc);\n    },\n    // eslint-disable-next-line no-unused-vars\n    handleUp(e) {\n      this.canDrag = false;\n      this.isDraging = false;\n      this.GJLDraw.clearTempCopyArea();\n      // 清空顶点的引用\n      this.GJLDraw.targetVertex = null;\n    },\n    handleDrawArrow() {\n      this.isDrawingArrow = true;\n    },\n    handleDrawArea() {\n      this.isDrawingArea = true;\n    },\n    handleReverseArrow() {\n      this.GJLDraw.reverseActiveArrow();\n    },\n    handleDeleteArrow() {\n      this.GJLDraw.deleteActiveArrow();\n    },\n    handleDeleteArea() {\n      this.GJLDraw.deleteActiveArea();\n    },\n    handleClear() {\n      this.GJLDraw.reset();\n    },\n    getRandomNumer(max) {\n      return parseInt(Math.random() * max);\n    },\n    handleCheckArea() {\n      this.GJLDraw.checkArea();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dt-container {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 40px;\n\n  .canvas-wrap {\n    width: 70%;\n    height: 500px;\n    border: 1px solid pink;\n    position: relative;\n\n    .canvas-el {\n      &.is-drawing {\n        cursor: crosshair;\n      }\n      &.is-draging {\n        cursor: grab;\n      }\n    }\n\n    .dialog {\n      position: absolute;\n      left: 0;\n      top: 0;\n      min-width: 100px;\n      min-height: 100px;\n      border: 1px solid pink;\n      border-radius: 3px;\n      background: rgba(255, 255, 255, 0.5);\n      padding: 10px;\n\n      .dialog-item {\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n\n        .el-input {\n          width: 100px;\n          margin-left: 10px;\n        }\n      }\n\n      .dialog-item + .dialog-item {\n        margin-top: 10px;\n      }\n    }\n  }\n\n  .btn {\n    margin-top: 40px;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.74.0/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/babel-loader@8.2.5_b1475583497452e4eb6a502a776a8f19/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/.pnpm/vue-loader@15.10.0_acb0b581772484ee6821a64503117fbc/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.74.0/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/babel-loader@8.2.5_b1475583497452e4eb6a502a776a8f19/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/.pnpm/vue-loader@15.10.0_acb0b581772484ee6821a64503117fbc/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2ce8a8b2&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=2ce8a8b2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/.pnpm/vue-loader@15.10.0_acb0b581772484ee6821a64503117fbc/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ce8a8b2\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\n\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\n\nVue.use(ElementUI);\nVue.config.productionTip = false;\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue2_canvas_demo\"] = self[\"webpackChunkvue2_canvas_demo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9532); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","staticClass","ref","class","isDrawing","isDraging","attrs","width","height","on","handleClick","handleDblclick","handleMove","handleDown","handleUp","activeArrowIndex","style","left","mousePosition","x","top","y","activeArrow","config","_l","val","key","_v","_s","model","value","callback","$$v","$set","expression","_e","handleDrawArrow","handleDrawArea","handleReverseArrow","handleDeleteArrow","handleDeleteArea","handleCheckArea","handleClear","staticRenderFns","containStroke","x0","y0","x1","y1","lineWidth","_a","_b","Math","abs","tmp","isInsideCircle","r","checkLineToLine","pointArr","edgeArr","mixArr","resultArr","i","length","arr","push","j","index","result","segmentsIntr","findIndex","target","a","b","c","d","areaAbc","areaAbd","areaCda","areaCdb","GJLDraw","constructor","canvasEl","arrowArr","areaArr","context","getContext","strokeStyle","lineActiveStyle","fillStyle","areaActiveStyle","lineWidthRound","areaVertexRadius","drawExistedArrow","drawExistedArea","dragOriginPoint","tempCopyArea","targetVertex","currentArrow","currentArea","setActiveArrowIndex","loc","isOnArrow","forEach","arrow","start","end","activeAreaIndex","setActiveAreaIndex","isOnArea","area","firstVertex","beginPath","moveTo","slice","lineTo","closePath","isPointInPath","center","reset","clearCanvas","reverseActiveArrow","reverseTarget","splice","deleteActiveArrow","deleteActiveArea","clearRect","item","drawVerticalArrow","isHover","isActive","drawArrow","drawingArrow","from","to","saveCurArrow","name","type","fromX","fromY","toX","toY","active","headlen","theta","arrowX","arrowY","angle","atan2","PI","angle1","angle2","topX","cos","topY","sin","botX","botY","stroke","mid","verticalAngle","len","verticalTarget","setLineDash","drawingArea","lastPoint","drawArea","vertexArr","mouseLoc","fill","arc","setDragOriginPoint","clearTempCopyArea","setTargetVertex","targetArea","dragingArea","map","vertex","offsetX","offsetY","originVertex","saveCurArea","checkArea","isPass","console","log","data","clickTimeout","timeoutDelay","arrowLoc","isDrawingArrow","isDrawingArea","canDrag","computed","mounted","methods","windowToCanvas","clearTimeout","getRandomNumer","component","Vue","ElementUI","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","n","getter","__esModule","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}